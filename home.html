<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>

  <link rel="stylesheet" href="style.css">

</head>

<body>

  <div class="menu">
    <a href="listaUsuarios.html" class="menu-item">Listar Usuarios</a>
    <a href="cadUsuarios.html" class="menu-item">Cadastro de Usuarios</a>
  </div>

</body>


<script>
  async function getAllUsers() {
    const usersApi = await fetch('https://private-21e8de-rafaellucio.apiary-mock.com/users');
    const responseJson = await usersApi.json(); // JSON from the http response
    return responseJson;
  }

  getAllUsers().then(data => {
    const storage = sessionStorage.getItem('users');
    const editUserStorage = sessionStorage.getItem('editUser');
    if(!storage) {
      sessionStorage.setItem('users', JSON.stringify(data));
    }
    if(editUserStorage) {
      sessionStorage.removeItem('editUser');
    }
  })
</script>
</html>